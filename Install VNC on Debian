sudo apt update
sudo apt install xfce4 tigervnc-standalone-server
vncserver :1
vncserver -kill :1
printf '#!/bin/sh\n\nunset SESSION_MANAGER\nunset DBUS_SESSION_BUS_ADDRESS\n\n# Try a simple xterm first to see if the session starts\nxterm &\n\n# Or try the full path to startxfce4 if the above works\n# /usr/bin/startxfce4 &\n' > ~/.vnc/xstartup
chmod +x ~/.vnc/xstartup
chmod +x ~/.vnc/xstartup
vncserver :1
sudo apt install git python3-pip
git clone https://github.com/novnc/noVNC.git
sudo pip install websockify
nohup websockify 6080 localhost:5901 > websockify.log 2>&1 &
echo "websockify가 백그라운드에서 실행 중입니다. 로그 파일: websockify.log"
cd noVNC
nohup python3 -m http.server 60800 > http_server.log 2>&1 &
echo "noVNC 웹 서버가 백그라운드에서 실행 중입니다. 포트: 60800, 로그 파일: http_server.log"
curl -sSL https://ngrok-agent.s3.amazonaws.com/ngrok.asc \
  | sudo tee /etc/apt/trusted.gpg.d/ngrok.asc >/dev/null \
  && echo "deb https://ngrok-agent.s3.amazonaws.com buster main" \
  | sudo tee /etc/apt/sources.list.d/ngrok.list \
  && sudo apt update
  && sudo apt install ngrok
ngrok config add-authtoken 2xc8ZeaaRj3cgvqgsB6khtjlNQW_4GFDFxFxNw4m5sAHXn8BJ
ngrok http --url=noble-happy-ray.ngrok-free.app 60800
